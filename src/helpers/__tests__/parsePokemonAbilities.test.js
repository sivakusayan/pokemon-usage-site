import mockAxios from './__mocks__/axios';
import parsePokemonAbilities from '../parsePokemonAbilities';

it('should correctly aggregate ability data', done => {
  const pokemonData = '{"abilities":[{"ability":{"name":"limber","url":"https://pokeapi.co/api/v2/ability/7/"},"is_hidden":false,"slot":1}],"base_experience":101,"forms":[{"name":"ditto","url":"https://pokeapi.co/api/v2/pokemon-form/132/"}],"game_indices":[{"game_index":132,"version":{"name":"white-2","url":"https://pokeapi.co/api/v2/version/22/"}},{"game_index":132,"version":{"name":"black-2","url":"https://pokeapi.co/api/v2/version/21/"}},{"game_index":132,"version":{"name":"white","url":"https://pokeapi.co/api/v2/version/18/"}},{"game_index":132,"version":{"name":"black","url":"https://pokeapi.co/api/v2/version/17/"}},{"game_index":132,"version":{"name":"soulsilver","url":"https://pokeapi.co/api/v2/version/16/"}},{"game_index":132,"version":{"name":"heartgold","url":"https://pokeapi.co/api/v2/version/15/"}},{"game_index":132,"version":{"name":"platinum","url":"https://pokeapi.co/api/v2/version/14/"}},{"game_index":132,"version":{"name":"pearl","url":"https://pokeapi.co/api/v2/version/13/"}},{"game_index":132,"version":{"name":"diamond","url":"https://pokeapi.co/api/v2/version/12/"}},{"game_index":132,"version":{"name":"leafgreen","url":"https://pokeapi.co/api/v2/version/11/"}},{"game_index":132,"version":{"name":"firered","url":"https://pokeapi.co/api/v2/version/10/"}},{"game_index":132,"version":{"name":"emerald","url":"https://pokeapi.co/api/v2/version/9/"}},{"game_index":132,"version":{"name":"sapphire","url":"https://pokeapi.co/api/v2/version/8/"}},{"game_index":132,"version":{"name":"ruby","url":"https://pokeapi.co/api/v2/version/7/"}},{"game_index":132,"version":{"name":"crystal","url":"https://pokeapi.co/api/v2/version/6/"}},{"game_index":132,"version":{"name":"silver","url":"https://pokeapi.co/api/v2/version/5/"}},{"game_index":132,"version":{"name":"gold","url":"https://pokeapi.co/api/v2/version/4/"}},{"game_index":76,"version":{"name":"yellow","url":"https://pokeapi.co/api/v2/version/3/"}},{"game_index":76,"version":{"name":"blue","url":"https://pokeapi.co/api/v2/version/2/"}},{"game_index":76,"version":{"name":"red","url":"https://pokeapi.co/api/v2/version/1/"}}],"height":3,"held_items":[{"item":{"name":"metal-powder","url":"https://pokeapi.co/api/v2/item/234/"},"version_details":[{"rarity":5,"version":{"name":"ultra-sun","url":"https://pokeapi.co/api/v2/version/29/"}},{"rarity":5,"version":{"name":"moon","url":"https://pokeapi.co/api/v2/version/28/"}},{"rarity":5,"version":{"name":"y","url":"https://pokeapi.co/api/v2/version/24/"}},{"rarity":5,"version":{"name":"x","url":"https://pokeapi.co/api/v2/version/23/"}},{"rarity":5,"version":{"name":"white-2","url":"https://pokeapi.co/api/v2/version/22/"}},{"rarity":5,"version":{"name":"black-2","url":"https://pokeapi.co/api/v2/version/21/"}},{"rarity":5,"version":{"name":"white","url":"https://pokeapi.co/api/v2/version/18/"}},{"rarity":5,"version":{"name":"black","url":"https://pokeapi.co/api/v2/version/17/"}},{"rarity":5,"version":{"name":"soulsilver","url":"https://pokeapi.co/api/v2/version/16/"}},{"rarity":5,"version":{"name":"heartgold","url":"https://pokeapi.co/api/v2/version/15/"}},{"rarity":5,"version":{"name":"platinum","url":"https://pokeapi.co/api/v2/version/14/"}},{"rarity":5,"version":{"name":"pearl","url":"https://pokeapi.co/api/v2/version/13/"}},{"rarity":5,"version":{"name":"diamond","url":"https://pokeapi.co/api/v2/version/12/"}},{"rarity":5,"version":{"name":"leafgreen","url":"https://pokeapi.co/api/v2/version/11/"}},{"rarity":5,"version":{"name":"firered","url":"https://pokeapi.co/api/v2/version/10/"}},{"rarity":5,"version":{"name":"emerald","url":"https://pokeapi.co/api/v2/version/9/"}},{"rarity":5,"version":{"name":"sapphire","url":"https://pokeapi.co/api/v2/version/8/"}},{"rarity":5,"version":{"name":"ruby","url":"https://pokeapi.co/api/v2/version/7/"}}]},{"item":{"name":"quick-powder","url":"https://pokeapi.co/api/v2/item/251/"},"version_details":[{"rarity":50,"version":{"name":"ultra-sun","url":"https://pokeapi.co/api/v2/version/29/"}},{"rarity":50,"version":{"name":"moon","url":"https://pokeapi.co/api/v2/version/28/"}},{"rarity":50,"version":{"name":"y","url":"https://pokeapi.co/api/v2/version/24/"}},{"rarity":50,"version":{"name":"x","url":"https://pokeapi.co/api/v2/version/23/"}},{"rarity":50,"version":{"name":"white-2","url":"https://pokeapi.co/api/v2/version/22/"}},{"rarity":50,"version":{"name":"black-2","url":"https://pokeapi.co/api/v2/version/21/"}},{"rarity":50,"version":{"name":"white","url":"https://pokeapi.co/api/v2/version/18/"}},{"rarity":50,"version":{"name":"black","url":"https://pokeapi.co/api/v2/version/17/"}},{"rarity":50,"version":{"name":"soulsilver","url":"https://pokeapi.co/api/v2/version/16/"}},{"rarity":50,"version":{"name":"heartgold","url":"https://pokeapi.co/api/v2/version/15/"}},{"rarity":50,"version":{"name":"platinum","url":"https://pokeapi.co/api/v2/version/14/"}},{"rarity":50,"version":{"name":"pearl","url":"https://pokeapi.co/api/v2/version/13/"}},{"rarity":50,"version":{"name":"diamond","url":"https://pokeapi.co/api/v2/version/12/"}}]}],"id":132,"is_default":true,"location_area_encounters":"https://pokeapi.co/api/v2/pokemon/132/encounters","moves":[{"move":{"name":"transform","url":"https://pokeapi.co/api/v2/move/144/"},"version_group_details":[{"level_learned_at":1,"move_learn_method":{"name":"level-up","url":"https://pokeapi.co/api/v2/move-learn-method/1/"},"version_group":{"name":"ultra-sun-ultra-moon","url":"https://pokeapi.co/api/v2/version-group/18/"}},{"level_learned_at":1,"move_learn_method":{"name":"level-up","url":"https://pokeapi.co/api/v2/move-learn-method/1/"},"version_group":{"name":"sun-moon","url":"https://pokeapi.co/api/v2/version-group/17/"}},{"level_learned_at":1,"move_learn_method":{"name":"level-up","url":"https://pokeapi.co/api/v2/move-learn-method/1/"},"version_group":{"name":"omega-ruby-alpha-sapphire","url":"https://pokeapi.co/api/v2/version-group/16/"}},{"level_learned_at":1,"move_learn_method":{"name":"level-up","url":"https://pokeapi.co/api/v2/move-learn-method/1/"},"version_group":{"name":"x-y","url":"https://pokeapi.co/api/v2/version-group/15/"}},{"level_learned_at":1,"move_learn_method":{"name":"level-up","url":"https://pokeapi.co/api/v2/move-learn-method/1/"},"version_group":{"name":"black-2-white-2","url":"https://pokeapi.co/api/v2/version-group/14/"}},{"level_learned_at":1,"move_learn_method":{"name":"level-up","url":"https://pokeapi.co/api/v2/move-learn-method/1/"},"version_group":{"name":"xd","url":"https://pokeapi.co/api/v2/version-group/13/"}},{"level_learned_at":1,"move_learn_method":{"name":"level-up","url":"https://pokeapi.co/api/v2/move-learn-method/1/"},"version_group":{"name":"colosseum","url":"https://pokeapi.co/api/v2/version-group/12/"}},{"level_learned_at":1,"move_learn_method":{"name":"level-up","url":"https://pokeapi.co/api/v2/move-learn-method/1/"},"version_group":{"name":"black-white","url":"https://pokeapi.co/api/v2/version-group/11/"}},{"level_learned_at":1,"move_learn_method":{"name":"level-up","url":"https://pokeapi.co/api/v2/move-learn-method/1/"},"version_group":{"name":"heartgold-soulsilver","url":"https://pokeapi.co/api/v2/version-group/10/"}},{"level_learned_at":1,"move_learn_method":{"name":"level-up","url":"https://pokeapi.co/api/v2/move-learn-method/1/"},"version_group":{"name":"platinum","url":"https://pokeapi.co/api/v2/version-group/9/"}},{"level_learned_at":1,"move_learn_method":{"name":"level-up","url":"https://pokeapi.co/api/v2/move-learn-method/1/"},"version_group":{"name":"diamond-pearl","url":"https://pokeapi.co/api/v2/version-group/8/"}},{"level_learned_at":1,"move_learn_method":{"name":"level-up","url":"https://pokeapi.co/api/v2/move-learn-method/1/"},"version_group":{"name":"firered-leafgreen","url":"https://pokeapi.co/api/v2/version-group/7/"}},{"level_learned_at":1,"move_learn_method":{"name":"level-up","url":"https://pokeapi.co/api/v2/move-learn-method/1/"},"version_group":{"name":"emerald","url":"https://pokeapi.co/api/v2/version-group/6/"}},{"level_learned_at":1,"move_learn_method":{"name":"level-up","url":"https://pokeapi.co/api/v2/move-learn-method/1/"},"version_group":{"name":"ruby-sapphire","url":"https://pokeapi.co/api/v2/version-group/5/"}},{"level_learned_at":1,"move_learn_method":{"name":"level-up","url":"https://pokeapi.co/api/v2/move-learn-method/1/"},"version_group":{"name":"crystal","url":"https://pokeapi.co/api/v2/version-group/4/"}},{"level_learned_at":1,"move_learn_method":{"name":"level-up","url":"https://pokeapi.co/api/v2/move-learn-method/1/"},"version_group":{"name":"gold-silver","url":"https://pokeapi.co/api/v2/version-group/3/"}},{"level_learned_at":1,"move_learn_method":{"name":"level-up","url":"https://pokeapi.co/api/v2/move-learn-method/1/"},"version_group":{"name":"yellow","url":"https://pokeapi.co/api/v2/version-group/2/"}},{"level_learned_at":1,"move_learn_method":{"name":"level-up","url":"https://pokeapi.co/api/v2/move-learn-method/1/"},"version_group":{"name":"red-blue","url":"https://pokeapi.co/api/v2/version-group/1/"}}]}],"name":"ditto","order":197,"species":{"name":"ditto","url":"https://pokeapi.co/api/v2/pokemon-species/132/"},"sprites":{"back_default":"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/132.png","back_female":null,"back_shiny":"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/shiny/132.png","back_shiny_female":null,"front_default":"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/132.png","front_female":null,"front_shiny":"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/shiny/132.png","front_shiny_female":null},"stats":[{"base_stat":48,"effort":0,"stat":{"name":"speed","url":"https://pokeapi.co/api/v2/stat/6/"}},{"base_stat":48,"effort":0,"stat":{"name":"special-defense","url":"https://pokeapi.co/api/v2/stat/5/"}},{"base_stat":48,"effort":0,"stat":{"name":"special-attack","url":"https://pokeapi.co/api/v2/stat/4/"}},{"base_stat":48,"effort":0,"stat":{"name":"defense","url":"https://pokeapi.co/api/v2/stat/3/"}},{"base_stat":48,"effort":0,"stat":{"name":"attack","url":"https://pokeapi.co/api/v2/stat/2/"}},{"base_stat":48,"effort":1,"stat":{"name":"hp","url":"https://pokeapi.co/api/v2/stat/1/"}}],"types":[{"slot":1,"type":{"name":"normal","url":"https://pokeapi.co/api/v2/type/1/"}}],"weight":40}';
  const abilityJSON = '{"effect_changes":[],"effect_entries":[{"effect":"This Pokémon cannot be paralyzed.\n\nIf a Pokémon is paralyzed and acquires this ability, its paralysis is healed; this includes when regaining a lost ability upon leaving battle.","language":{"name":"en","url":"https://pokeapi.co/api/v2/language/9/"},"short_effect":"Prevents paralysis."}],"flavor_text_entries":[{"flavor_text":"因为身体柔软，\n不会变为麻痹状态。","language":{"name":"zh-Hans","url":"https://pokeapi.co/api/v2/language/12/"},"version_group":{"name":"ultra-sun-ultra-moon","url":"https://pokeapi.co/api/v2/version-group/18/"}},{"flavor_text":"柔軟な　体によって\nまひ状態に　ならない。","language":{"name":"ja","url":"https://pokeapi.co/api/v2/language/11/"},"version_group":{"name":"ultra-sun-ultra-moon","url":"https://pokeapi.co/api/v2/version-group/18/"}},{"flavor_text":"Its limber body protects the Pokémon from paralysis.","language":{"name":"en","url":"https://pokeapi.co/api/v2/language/9/"},"version_group":{"name":"ultra-sun-ultra-moon","url":"https://pokeapi.co/api/v2/version-group/18/"}},{"flavor_text":"Il corpo flessibile del Pokémon gli impedisce\ndi subire gli effetti della paralisi.","language":{"name":"it","url":"https://pokeapi.co/api/v2/language/8/"},"version_group":{"name":"ultra-sun-ultra-moon","url":"https://pokeapi.co/api/v2/version-group/18/"}},{"flavor_text":"Evita ser paralizado gracias a la flexibilidad de su\ncuerpo.","language":{"name":"es","url":"https://pokeapi.co/api/v2/language/7/"},"version_group":{"name":"ultra-sun-ultra-moon","url":"https://pokeapi.co/api/v2/version-group/18/"}},{"flavor_text":"Der flexible Körper des Pokémon schützt es vor\nParalyse.","language":{"name":"de","url":"https://pokeapi.co/api/v2/language/6/"},"version_group":{"name":"ultra-sun-ultra-moon","url":"https://pokeapi.co/api/v2/version-group/18/"}},{"flavor_text":"Le Pokémon s’est suffisamment échauffé,\nce qui l’immunise contre la paralysie.","language":{"name":"fr","url":"https://pokeapi.co/api/v2/language/5/"},"version_group":{"name":"ultra-sun-ultra-moon","url":"https://pokeapi.co/api/v2/version-group/18/"}},{"flavor_text":"因為身體柔軟，\n不會陷入麻痺狀態。","language":{"name":"zh-Hant","url":"https://pokeapi.co/api/v2/language/4/"},"version_group":{"name":"ultra-sun-ultra-moon","url":"https://pokeapi.co/api/v2/version-group/18/"}},{"flavor_text":"유연한 몸으로 인해\n마비 상태가 되지 않는다.","language":{"name":"ko","url":"https://pokeapi.co/api/v2/language/3/"},"version_group":{"name":"ultra-sun-ultra-moon","url":"https://pokeapi.co/api/v2/version-group/18/"}},{"flavor_text":"じゅうなんな　からだによって\nまひ　じょうたいに　ならない。","language":{"name":"ja-Hrkt","url":"https://pokeapi.co/api/v2/language/1/"},"version_group":{"name":"ultra-sun-ultra-moon","url":"https://pokeapi.co/api/v2/version-group/18/"}},{"flavor_text":"因为身体柔软，\n不会变为麻痹状态。","language":{"name":"zh-Hans","url":"https://pokeapi.co/api/v2/language/12/"},"version_group":{"name":"sun-moon","url":"https://pokeapi.co/api/v2/version-group/17/"}},{"flavor_text":"柔軟な　体によって\nまひ状態に　ならない。","language":{"name":"ja","url":"https://pokeapi.co/api/v2/language/11/"},"version_group":{"name":"sun-moon","url":"https://pokeapi.co/api/v2/version-group/17/"}},{"flavor_text":"Its limber body protects the Pokémon from paralysis.","language":{"name":"en","url":"https://pokeapi.co/api/v2/language/9/"},"version_group":{"name":"sun-moon","url":"https://pokeapi.co/api/v2/version-group/17/"}},{"flavor_text":"Il corpo flessibile del Pokémon gli impedisce\ndi subire gli effetti della paralisi.","language":{"name":"it","url":"https://pokeapi.co/api/v2/language/8/"},"version_group":{"name":"sun-moon","url":"https://pokeapi.co/api/v2/version-group/17/"}},{"flavor_text":"Evita ser paralizado gracias a la flexibilidad de su\ncuerpo.","language":{"name":"es","url":"https://pokeapi.co/api/v2/language/7/"},"version_group":{"name":"sun-moon","url":"https://pokeapi.co/api/v2/version-group/17/"}},{"flavor_text":"Der flexible Körper des Pokémon schützt es vor\nParalyse.","language":{"name":"de","url":"https://pokeapi.co/api/v2/language/6/"},"version_group":{"name":"sun-moon","url":"https://pokeapi.co/api/v2/version-group/17/"}},{"flavor_text":"Le Pokémon s’est suffisamment échauffé,\nce qui l’immunise contre la paralysie.","language":{"name":"fr","url":"https://pokeapi.co/api/v2/language/5/"},"version_group":{"name":"sun-moon","url":"https://pokeapi.co/api/v2/version-group/17/"}},{"flavor_text":"因為身體柔軟，\n不會陷入麻痺狀態。","language":{"name":"zh-Hant","url":"https://pokeapi.co/api/v2/language/4/"},"version_group":{"name":"sun-moon","url":"https://pokeapi.co/api/v2/version-group/17/"}},{"flavor_text":"유연한 몸으로 인해\n마비 상태가 되지 않는다.","language":{"name":"ko","url":"https://pokeapi.co/api/v2/language/3/"},"version_group":{"name":"sun-moon","url":"https://pokeapi.co/api/v2/version-group/17/"}},{"flavor_text":"じゅうなんな　からだによって\nまひ　じょうたいに　ならない。","language":{"name":"ja-Hrkt","url":"https://pokeapi.co/api/v2/language/1/"},"version_group":{"name":"sun-moon","url":"https://pokeapi.co/api/v2/version-group/17/"}},{"flavor_text":"まひ状態に\nならない。","language":{"name":"ja","url":"https://pokeapi.co/api/v2/language/11/"},"version_group":{"name":"omega-ruby-alpha-sapphire","url":"https://pokeapi.co/api/v2/version-group/16/"}},{"flavor_text":"Protects the Pokémon\nfrom paralysis.","language":{"name":"en","url":"https://pokeapi.co/api/v2/language/9/"},"version_group":{"name":"omega-ruby-alpha-sapphire","url":"https://pokeapi.co/api/v2/version-group/16/"}},{"flavor_text":"Il Pokémon è protetto contro\nla paralisi.","language":{"name":"it","url":"https://pokeapi.co/api/v2/language/8/"},"version_group":{"name":"omega-ruby-alpha-sapphire","url":"https://pokeapi.co/api/v2/version-group/16/"}},{"flavor_text":"Evita ser paralizado.","language":{"name":"es","url":"https://pokeapi.co/api/v2/language/7/"},"version_group":{"name":"omega-ruby-alpha-sapphire","url":"https://pokeapi.co/api/v2/version-group/16/"}},{"flavor_text":"Verhindert Paralyse.","language":{"name":"de","url":"https://pokeapi.co/api/v2/language/6/"},"version_group":{"name":"omega-ruby-alpha-sapphire","url":"https://pokeapi.co/api/v2/version-group/16/"}},{"flavor_text":"Protège le Pokémon de la\nparalysie.","language":{"name":"fr","url":"https://pokeapi.co/api/v2/language/5/"},"version_group":{"name":"omega-ruby-alpha-sapphire","url":"https://pokeapi.co/api/v2/version-group/16/"}},{"flavor_text":"마비 상태가\n되지 않는다.","language":{"name":"ko","url":"https://pokeapi.co/api/v2/language/3/"},"version_group":{"name":"omega-ruby-alpha-sapphire","url":"https://pokeapi.co/api/v2/version-group/16/"}},{"flavor_text":"まひ　じょうたいに\nならない。","language":{"name":"ja-Hrkt","url":"https://pokeapi.co/api/v2/language/1/"},"version_group":{"name":"omega-ruby-alpha-sapphire","url":"https://pokeapi.co/api/v2/version-group/16/"}},{"flavor_text":"まひ状態に\nならない。","language":{"name":"ja","url":"https://pokeapi.co/api/v2/language/11/"},"version_group":{"name":"x-y","url":"https://pokeapi.co/api/v2/version-group/15/"}},{"flavor_text":"Protects the Pokémon\nfrom paralysis.","language":{"name":"en","url":"https://pokeapi.co/api/v2/language/9/"},"version_group":{"name":"x-y","url":"https://pokeapi.co/api/v2/version-group/15/"}},{"flavor_text":"Il Pokémon è protetto contro\nla paralisi.","language":{"name":"it","url":"https://pokeapi.co/api/v2/language/8/"},"version_group":{"name":"x-y","url":"https://pokeapi.co/api/v2/version-group/15/"}},{"flavor_text":"Evita ser paralizado.","language":{"name":"es","url":"https://pokeapi.co/api/v2/language/7/"},"version_group":{"name":"x-y","url":"https://pokeapi.co/api/v2/version-group/15/"}},{"flavor_text":"Verhindert Paralyse.","language":{"name":"de","url":"https://pokeapi.co/api/v2/language/6/"},"version_group":{"name":"x-y","url":"https://pokeapi.co/api/v2/version-group/15/"}},{"flavor_text":"Protège le Pokémon de la\nparalysie.","language":{"name":"fr","url":"https://pokeapi.co/api/v2/language/5/"},"version_group":{"name":"x-y","url":"https://pokeapi.co/api/v2/version-group/15/"}},{"flavor_text":"마비 상태가\n되지 않는다.","language":{"name":"ko","url":"https://pokeapi.co/api/v2/language/3/"},"version_group":{"name":"x-y","url":"https://pokeapi.co/api/v2/version-group/15/"}},{"flavor_text":"まひ　じょうたいに\nならない。","language":{"name":"ja-Hrkt","url":"https://pokeapi.co/api/v2/language/1/"},"version_group":{"name":"x-y","url":"https://pokeapi.co/api/v2/version-group/15/"}},{"flavor_text":"The Pokémon is protected\nfrom paralysis.","language":{"name":"en","url":"https://pokeapi.co/api/v2/language/9/"},"version_group":{"name":"black-2-white-2","url":"https://pokeapi.co/api/v2/version-group/14/"}},{"flavor_text":"The Pokémon is protected\nfrom paralysis.","language":{"name":"en","url":"https://pokeapi.co/api/v2/language/9/"},"version_group":{"name":"black-white","url":"https://pokeapi.co/api/v2/version-group/11/"}},{"flavor_text":"Protège le Pokémon de\nla paralysie.","language":{"name":"fr","url":"https://pokeapi.co/api/v2/language/5/"},"version_group":{"name":"black-white","url":"https://pokeapi.co/api/v2/version-group/11/"}},{"flavor_text":"The Pokémon is protected\nfrom paralysis.","language":{"name":"en","url":"https://pokeapi.co/api/v2/language/9/"},"version_group":{"name":"heartgold-soulsilver","url":"https://pokeapi.co/api/v2/version-group/10/"}},{"flavor_text":"The Pokémon is protected\nfrom paralysis.","language":{"name":"en","url":"https://pokeapi.co/api/v2/language/9/"},"version_group":{"name":"platinum","url":"https://pokeapi.co/api/v2/version-group/9/"}},{"flavor_text":"The Pokémon is protected\nfrom paralysis.","language":{"name":"en","url":"https://pokeapi.co/api/v2/language/9/"},"version_group":{"name":"diamond-pearl","url":"https://pokeapi.co/api/v2/version-group/8/"}},{"flavor_text":"Prevents paralysis.","language":{"name":"en","url":"https://pokeapi.co/api/v2/language/9/"},"version_group":{"name":"firered-leafgreen","url":"https://pokeapi.co/api/v2/version-group/7/"}},{"flavor_text":"Prevents paralysis.","language":{"name":"en","url":"https://pokeapi.co/api/v2/language/9/"},"version_group":{"name":"emerald","url":"https://pokeapi.co/api/v2/version-group/6/"}},{"flavor_text":"Prevents paralysis.","language":{"name":"en","url":"https://pokeapi.co/api/v2/language/9/"},"version_group":{"name":"ruby-sapphire","url":"https://pokeapi.co/api/v2/version-group/5/"}}],"generation":{"name":"generation-iii","url":"https://pokeapi.co/api/v2/generation/3/"},"id":7,"is_main_series":true,"name":"limber","names":[{"language":{"name":"zh-Hans","url":"https://pokeapi.co/api/v2/language/12/"},"name":"柔软"},{"language":{"name":"ja","url":"https://pokeapi.co/api/v2/language/11/"},"name":"じゅうなん"},{"language":{"name":"en","url":"https://pokeapi.co/api/v2/language/9/"},"name":"Limber"},{"language":{"name":"it","url":"https://pokeapi.co/api/v2/language/8/"},"name":"Scioltezza"},{"language":{"name":"es","url":"https://pokeapi.co/api/v2/language/7/"},"name":"Flexibilidad"},{"language":{"name":"de","url":"https://pokeapi.co/api/v2/language/6/"},"name":"Flexibilität"},{"language":{"name":"fr","url":"https://pokeapi.co/api/v2/language/5/"},"name":"Échauffement"},{"language":{"name":"zh-Hant","url":"https://pokeapi.co/api/v2/language/4/"},"name":"柔軟"},{"language":{"name":"ko","url":"https://pokeapi.co/api/v2/language/3/"},"name":"유연"},{"language":{"name":"ja-Hrkt","url":"https://pokeapi.co/api/v2/language/1/"},"name":"じゅうなん"}],"pokemon":[{"is_hidden":false,"pokemon":{"name":"persian","url":"https://pokeapi.co/api/v2/pokemon/53/"},"slot":1},{"is_hidden":false,"pokemon":{"name":"hitmonlee","url":"https://pokeapi.co/api/v2/pokemon/106/"},"slot":1},{"is_hidden":false,"pokemon":{"name":"ditto","url":"https://pokeapi.co/api/v2/pokemon/132/"},"slot":1},{"is_hidden":true,"pokemon":{"name":"buneary","url":"https://pokeapi.co/api/v2/pokemon/427/"},"slot":3},{"is_hidden":true,"pokemon":{"name":"lopunny","url":"https://pokeapi.co/api/v2/pokemon/428/"},"slot":3},{"is_hidden":false,"pokemon":{"name":"glameow","url":"https://pokeapi.co/api/v2/pokemon/431/"},"slot":1},{"is_hidden":false,"pokemon":{"name":"purrloin","url":"https://pokeapi.co/api/v2/pokemon/509/"},"slot":1},{"is_hidden":false,"pokemon":{"name":"liepard","url":"https://pokeapi.co/api/v2/pokemon/510/"},"slot":1},{"is_hidden":false,"pokemon":{"name":"stunfisk","url":"https://pokeapi.co/api/v2/pokemon/618/"},"slot":2},{"is_hidden":false,"pokemon":{"name":"hawlucha","url":"https://pokeapi.co/api/v2/pokemon/701/"},"slot":1},{"is_hidden":false,"pokemon":{"name":"mareanie","url":"https://pokeapi.co/api/v2/pokemon/747/"},"slot":2},{"is_hidden":false,"pokemon":{"name":"toxapex","url":"https://pokeapi.co/api/v2/pokemon/748/"},"slot":2}]}';
  
  mockAxios.get.mockImplementationOnce(() => Promise.resolve(JSON.parse(abilityJSON)));

  const expectedRes = [{
    effect: "Prevents paralysis.",
    isHidden: false,
    name: "limber",
  }];

  parsePokemonAbilities(JSON.parse(pokemonData)).then(res => {
    expect(res).toEqual(expectedRes);
    done()
  })
})

it('should order abilities in array according to slot number', done => {
  const pokemonData = '{"abilities":[{"ability":{"name":"imposter","url":"https://pokeapi.co/api/v2/ability/150/"},"is_hidden":true,"slot":3},{"ability":{"name":"limber","url":"https://pokeapi.co/api/v2/ability/7/"},"is_hidden":false,"slot":1}],"base_experience":101,"forms":[{"name":"ditto","url":"https://pokeapi.co/api/v2/pokemon-form/132/"}],"game_indices":[{"game_index":132,"version":{"name":"white-2","url":"https://pokeapi.co/api/v2/version/22/"}},{"game_index":132,"version":{"name":"black-2","url":"https://pokeapi.co/api/v2/version/21/"}},{"game_index":132,"version":{"name":"white","url":"https://pokeapi.co/api/v2/version/18/"}},{"game_index":132,"version":{"name":"black","url":"https://pokeapi.co/api/v2/version/17/"}},{"game_index":132,"version":{"name":"soulsilver","url":"https://pokeapi.co/api/v2/version/16/"}},{"game_index":132,"version":{"name":"heartgold","url":"https://pokeapi.co/api/v2/version/15/"}},{"game_index":132,"version":{"name":"platinum","url":"https://pokeapi.co/api/v2/version/14/"}},{"game_index":132,"version":{"name":"pearl","url":"https://pokeapi.co/api/v2/version/13/"}},{"game_index":132,"version":{"name":"diamond","url":"https://pokeapi.co/api/v2/version/12/"}},{"game_index":132,"version":{"name":"leafgreen","url":"https://pokeapi.co/api/v2/version/11/"}},{"game_index":132,"version":{"name":"firered","url":"https://pokeapi.co/api/v2/version/10/"}},{"game_index":132,"version":{"name":"emerald","url":"https://pokeapi.co/api/v2/version/9/"}},{"game_index":132,"version":{"name":"sapphire","url":"https://pokeapi.co/api/v2/version/8/"}},{"game_index":132,"version":{"name":"ruby","url":"https://pokeapi.co/api/v2/version/7/"}},{"game_index":132,"version":{"name":"crystal","url":"https://pokeapi.co/api/v2/version/6/"}},{"game_index":132,"version":{"name":"silver","url":"https://pokeapi.co/api/v2/version/5/"}},{"game_index":132,"version":{"name":"gold","url":"https://pokeapi.co/api/v2/version/4/"}},{"game_index":76,"version":{"name":"yellow","url":"https://pokeapi.co/api/v2/version/3/"}},{"game_index":76,"version":{"name":"blue","url":"https://pokeapi.co/api/v2/version/2/"}},{"game_index":76,"version":{"name":"red","url":"https://pokeapi.co/api/v2/version/1/"}}],"height":3,"held_items":[{"item":{"name":"metal-powder","url":"https://pokeapi.co/api/v2/item/234/"},"version_details":[{"rarity":5,"version":{"name":"ultra-sun","url":"https://pokeapi.co/api/v2/version/29/"}},{"rarity":5,"version":{"name":"moon","url":"https://pokeapi.co/api/v2/version/28/"}},{"rarity":5,"version":{"name":"y","url":"https://pokeapi.co/api/v2/version/24/"}},{"rarity":5,"version":{"name":"x","url":"https://pokeapi.co/api/v2/version/23/"}},{"rarity":5,"version":{"name":"white-2","url":"https://pokeapi.co/api/v2/version/22/"}},{"rarity":5,"version":{"name":"black-2","url":"https://pokeapi.co/api/v2/version/21/"}},{"rarity":5,"version":{"name":"white","url":"https://pokeapi.co/api/v2/version/18/"}},{"rarity":5,"version":{"name":"black","url":"https://pokeapi.co/api/v2/version/17/"}},{"rarity":5,"version":{"name":"soulsilver","url":"https://pokeapi.co/api/v2/version/16/"}},{"rarity":5,"version":{"name":"heartgold","url":"https://pokeapi.co/api/v2/version/15/"}},{"rarity":5,"version":{"name":"platinum","url":"https://pokeapi.co/api/v2/version/14/"}},{"rarity":5,"version":{"name":"pearl","url":"https://pokeapi.co/api/v2/version/13/"}},{"rarity":5,"version":{"name":"diamond","url":"https://pokeapi.co/api/v2/version/12/"}},{"rarity":5,"version":{"name":"leafgreen","url":"https://pokeapi.co/api/v2/version/11/"}},{"rarity":5,"version":{"name":"firered","url":"https://pokeapi.co/api/v2/version/10/"}},{"rarity":5,"version":{"name":"emerald","url":"https://pokeapi.co/api/v2/version/9/"}},{"rarity":5,"version":{"name":"sapphire","url":"https://pokeapi.co/api/v2/version/8/"}},{"rarity":5,"version":{"name":"ruby","url":"https://pokeapi.co/api/v2/version/7/"}}]},{"item":{"name":"quick-powder","url":"https://pokeapi.co/api/v2/item/251/"},"version_details":[{"rarity":50,"version":{"name":"ultra-sun","url":"https://pokeapi.co/api/v2/version/29/"}},{"rarity":50,"version":{"name":"moon","url":"https://pokeapi.co/api/v2/version/28/"}},{"rarity":50,"version":{"name":"y","url":"https://pokeapi.co/api/v2/version/24/"}},{"rarity":50,"version":{"name":"x","url":"https://pokeapi.co/api/v2/version/23/"}},{"rarity":50,"version":{"name":"white-2","url":"https://pokeapi.co/api/v2/version/22/"}},{"rarity":50,"version":{"name":"black-2","url":"https://pokeapi.co/api/v2/version/21/"}},{"rarity":50,"version":{"name":"white","url":"https://pokeapi.co/api/v2/version/18/"}},{"rarity":50,"version":{"name":"black","url":"https://pokeapi.co/api/v2/version/17/"}},{"rarity":50,"version":{"name":"soulsilver","url":"https://pokeapi.co/api/v2/version/16/"}},{"rarity":50,"version":{"name":"heartgold","url":"https://pokeapi.co/api/v2/version/15/"}},{"rarity":50,"version":{"name":"platinum","url":"https://pokeapi.co/api/v2/version/14/"}},{"rarity":50,"version":{"name":"pearl","url":"https://pokeapi.co/api/v2/version/13/"}},{"rarity":50,"version":{"name":"diamond","url":"https://pokeapi.co/api/v2/version/12/"}}]}],"id":132,"is_default":true,"location_area_encounters":"https://pokeapi.co/api/v2/pokemon/132/encounters","moves":[{"move":{"name":"transform","url":"https://pokeapi.co/api/v2/move/144/"},"version_group_details":[{"level_learned_at":1,"move_learn_method":{"name":"level-up","url":"https://pokeapi.co/api/v2/move-learn-method/1/"},"version_group":{"name":"ultra-sun-ultra-moon","url":"https://pokeapi.co/api/v2/version-group/18/"}},{"level_learned_at":1,"move_learn_method":{"name":"level-up","url":"https://pokeapi.co/api/v2/move-learn-method/1/"},"version_group":{"name":"sun-moon","url":"https://pokeapi.co/api/v2/version-group/17/"}},{"level_learned_at":1,"move_learn_method":{"name":"level-up","url":"https://pokeapi.co/api/v2/move-learn-method/1/"},"version_group":{"name":"omega-ruby-alpha-sapphire","url":"https://pokeapi.co/api/v2/version-group/16/"}},{"level_learned_at":1,"move_learn_method":{"name":"level-up","url":"https://pokeapi.co/api/v2/move-learn-method/1/"},"version_group":{"name":"x-y","url":"https://pokeapi.co/api/v2/version-group/15/"}},{"level_learned_at":1,"move_learn_method":{"name":"level-up","url":"https://pokeapi.co/api/v2/move-learn-method/1/"},"version_group":{"name":"black-2-white-2","url":"https://pokeapi.co/api/v2/version-group/14/"}},{"level_learned_at":1,"move_learn_method":{"name":"level-up","url":"https://pokeapi.co/api/v2/move-learn-method/1/"},"version_group":{"name":"xd","url":"https://pokeapi.co/api/v2/version-group/13/"}},{"level_learned_at":1,"move_learn_method":{"name":"level-up","url":"https://pokeapi.co/api/v2/move-learn-method/1/"},"version_group":{"name":"colosseum","url":"https://pokeapi.co/api/v2/version-group/12/"}},{"level_learned_at":1,"move_learn_method":{"name":"level-up","url":"https://pokeapi.co/api/v2/move-learn-method/1/"},"version_group":{"name":"black-white","url":"https://pokeapi.co/api/v2/version-group/11/"}},{"level_learned_at":1,"move_learn_method":{"name":"level-up","url":"https://pokeapi.co/api/v2/move-learn-method/1/"},"version_group":{"name":"heartgold-soulsilver","url":"https://pokeapi.co/api/v2/version-group/10/"}},{"level_learned_at":1,"move_learn_method":{"name":"level-up","url":"https://pokeapi.co/api/v2/move-learn-method/1/"},"version_group":{"name":"platinum","url":"https://pokeapi.co/api/v2/version-group/9/"}},{"level_learned_at":1,"move_learn_method":{"name":"level-up","url":"https://pokeapi.co/api/v2/move-learn-method/1/"},"version_group":{"name":"diamond-pearl","url":"https://pokeapi.co/api/v2/version-group/8/"}},{"level_learned_at":1,"move_learn_method":{"name":"level-up","url":"https://pokeapi.co/api/v2/move-learn-method/1/"},"version_group":{"name":"firered-leafgreen","url":"https://pokeapi.co/api/v2/version-group/7/"}},{"level_learned_at":1,"move_learn_method":{"name":"level-up","url":"https://pokeapi.co/api/v2/move-learn-method/1/"},"version_group":{"name":"emerald","url":"https://pokeapi.co/api/v2/version-group/6/"}},{"level_learned_at":1,"move_learn_method":{"name":"level-up","url":"https://pokeapi.co/api/v2/move-learn-method/1/"},"version_group":{"name":"ruby-sapphire","url":"https://pokeapi.co/api/v2/version-group/5/"}},{"level_learned_at":1,"move_learn_method":{"name":"level-up","url":"https://pokeapi.co/api/v2/move-learn-method/1/"},"version_group":{"name":"crystal","url":"https://pokeapi.co/api/v2/version-group/4/"}},{"level_learned_at":1,"move_learn_method":{"name":"level-up","url":"https://pokeapi.co/api/v2/move-learn-method/1/"},"version_group":{"name":"gold-silver","url":"https://pokeapi.co/api/v2/version-group/3/"}},{"level_learned_at":1,"move_learn_method":{"name":"level-up","url":"https://pokeapi.co/api/v2/move-learn-method/1/"},"version_group":{"name":"yellow","url":"https://pokeapi.co/api/v2/version-group/2/"}},{"level_learned_at":1,"move_learn_method":{"name":"level-up","url":"https://pokeapi.co/api/v2/move-learn-method/1/"},"version_group":{"name":"red-blue","url":"https://pokeapi.co/api/v2/version-group/1/"}}]}],"name":"ditto","order":197,"species":{"name":"ditto","url":"https://pokeapi.co/api/v2/pokemon-species/132/"},"sprites":{"back_default":"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/132.png","back_female":null,"back_shiny":"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/shiny/132.png","back_shiny_female":null,"front_default":"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/132.png","front_female":null,"front_shiny":"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/shiny/132.png","front_shiny_female":null},"stats":[{"base_stat":48,"effort":0,"stat":{"name":"speed","url":"https://pokeapi.co/api/v2/stat/6/"}},{"base_stat":48,"effort":0,"stat":{"name":"special-defense","url":"https://pokeapi.co/api/v2/stat/5/"}},{"base_stat":48,"effort":0,"stat":{"name":"special-attack","url":"https://pokeapi.co/api/v2/stat/4/"}},{"base_stat":48,"effort":0,"stat":{"name":"defense","url":"https://pokeapi.co/api/v2/stat/3/"}},{"base_stat":48,"effort":0,"stat":{"name":"attack","url":"https://pokeapi.co/api/v2/stat/2/"}},{"base_stat":48,"effort":1,"stat":{"name":"hp","url":"https://pokeapi.co/api/v2/stat/1/"}}],"types":[{"slot":1,"type":{"name":"normal","url":"https://pokeapi.co/api/v2/type/1/"}}],"weight":40}';
  const firstAbilityJSON = '{"effect_changes":[],"effect_entries":[{"effect":"This Pokémon cannot be paralyzed.\n\nIf a Pokémon is paralyzed and acquires this ability, its paralysis is healed; this includes when regaining a lost ability upon leaving battle.","language":{"name":"en","url":"https://pokeapi.co/api/v2/language/9/"},"short_effect":"Prevents paralysis."}],"flavor_text_entries":[{"flavor_text":"因为身体柔软，\n不会变为麻痹状态。","language":{"name":"zh-Hans","url":"https://pokeapi.co/api/v2/language/12/"},"version_group":{"name":"ultra-sun-ultra-moon","url":"https://pokeapi.co/api/v2/version-group/18/"}},{"flavor_text":"柔軟な　体によって\nまひ状態に　ならない。","language":{"name":"ja","url":"https://pokeapi.co/api/v2/language/11/"},"version_group":{"name":"ultra-sun-ultra-moon","url":"https://pokeapi.co/api/v2/version-group/18/"}},{"flavor_text":"Its limber body protects the Pokémon from paralysis.","language":{"name":"en","url":"https://pokeapi.co/api/v2/language/9/"},"version_group":{"name":"ultra-sun-ultra-moon","url":"https://pokeapi.co/api/v2/version-group/18/"}},{"flavor_text":"Il corpo flessibile del Pokémon gli impedisce\ndi subire gli effetti della paralisi.","language":{"name":"it","url":"https://pokeapi.co/api/v2/language/8/"},"version_group":{"name":"ultra-sun-ultra-moon","url":"https://pokeapi.co/api/v2/version-group/18/"}},{"flavor_text":"Evita ser paralizado gracias a la flexibilidad de su\ncuerpo.","language":{"name":"es","url":"https://pokeapi.co/api/v2/language/7/"},"version_group":{"name":"ultra-sun-ultra-moon","url":"https://pokeapi.co/api/v2/version-group/18/"}},{"flavor_text":"Der flexible Körper des Pokémon schützt es vor\nParalyse.","language":{"name":"de","url":"https://pokeapi.co/api/v2/language/6/"},"version_group":{"name":"ultra-sun-ultra-moon","url":"https://pokeapi.co/api/v2/version-group/18/"}},{"flavor_text":"Le Pokémon s’est suffisamment échauffé,\nce qui l’immunise contre la paralysie.","language":{"name":"fr","url":"https://pokeapi.co/api/v2/language/5/"},"version_group":{"name":"ultra-sun-ultra-moon","url":"https://pokeapi.co/api/v2/version-group/18/"}},{"flavor_text":"因為身體柔軟，\n不會陷入麻痺狀態。","language":{"name":"zh-Hant","url":"https://pokeapi.co/api/v2/language/4/"},"version_group":{"name":"ultra-sun-ultra-moon","url":"https://pokeapi.co/api/v2/version-group/18/"}},{"flavor_text":"유연한 몸으로 인해\n마비 상태가 되지 않는다.","language":{"name":"ko","url":"https://pokeapi.co/api/v2/language/3/"},"version_group":{"name":"ultra-sun-ultra-moon","url":"https://pokeapi.co/api/v2/version-group/18/"}},{"flavor_text":"じゅうなんな　からだによって\nまひ　じょうたいに　ならない。","language":{"name":"ja-Hrkt","url":"https://pokeapi.co/api/v2/language/1/"},"version_group":{"name":"ultra-sun-ultra-moon","url":"https://pokeapi.co/api/v2/version-group/18/"}},{"flavor_text":"因为身体柔软，\n不会变为麻痹状态。","language":{"name":"zh-Hans","url":"https://pokeapi.co/api/v2/language/12/"},"version_group":{"name":"sun-moon","url":"https://pokeapi.co/api/v2/version-group/17/"}},{"flavor_text":"柔軟な　体によって\nまひ状態に　ならない。","language":{"name":"ja","url":"https://pokeapi.co/api/v2/language/11/"},"version_group":{"name":"sun-moon","url":"https://pokeapi.co/api/v2/version-group/17/"}},{"flavor_text":"Its limber body protects the Pokémon from paralysis.","language":{"name":"en","url":"https://pokeapi.co/api/v2/language/9/"},"version_group":{"name":"sun-moon","url":"https://pokeapi.co/api/v2/version-group/17/"}},{"flavor_text":"Il corpo flessibile del Pokémon gli impedisce\ndi subire gli effetti della paralisi.","language":{"name":"it","url":"https://pokeapi.co/api/v2/language/8/"},"version_group":{"name":"sun-moon","url":"https://pokeapi.co/api/v2/version-group/17/"}},{"flavor_text":"Evita ser paralizado gracias a la flexibilidad de su\ncuerpo.","language":{"name":"es","url":"https://pokeapi.co/api/v2/language/7/"},"version_group":{"name":"sun-moon","url":"https://pokeapi.co/api/v2/version-group/17/"}},{"flavor_text":"Der flexible Körper des Pokémon schützt es vor\nParalyse.","language":{"name":"de","url":"https://pokeapi.co/api/v2/language/6/"},"version_group":{"name":"sun-moon","url":"https://pokeapi.co/api/v2/version-group/17/"}},{"flavor_text":"Le Pokémon s’est suffisamment échauffé,\nce qui l’immunise contre la paralysie.","language":{"name":"fr","url":"https://pokeapi.co/api/v2/language/5/"},"version_group":{"name":"sun-moon","url":"https://pokeapi.co/api/v2/version-group/17/"}},{"flavor_text":"因為身體柔軟，\n不會陷入麻痺狀態。","language":{"name":"zh-Hant","url":"https://pokeapi.co/api/v2/language/4/"},"version_group":{"name":"sun-moon","url":"https://pokeapi.co/api/v2/version-group/17/"}},{"flavor_text":"유연한 몸으로 인해\n마비 상태가 되지 않는다.","language":{"name":"ko","url":"https://pokeapi.co/api/v2/language/3/"},"version_group":{"name":"sun-moon","url":"https://pokeapi.co/api/v2/version-group/17/"}},{"flavor_text":"じゅうなんな　からだによって\nまひ　じょうたいに　ならない。","language":{"name":"ja-Hrkt","url":"https://pokeapi.co/api/v2/language/1/"},"version_group":{"name":"sun-moon","url":"https://pokeapi.co/api/v2/version-group/17/"}},{"flavor_text":"まひ状態に\nならない。","language":{"name":"ja","url":"https://pokeapi.co/api/v2/language/11/"},"version_group":{"name":"omega-ruby-alpha-sapphire","url":"https://pokeapi.co/api/v2/version-group/16/"}},{"flavor_text":"Protects the Pokémon\nfrom paralysis.","language":{"name":"en","url":"https://pokeapi.co/api/v2/language/9/"},"version_group":{"name":"omega-ruby-alpha-sapphire","url":"https://pokeapi.co/api/v2/version-group/16/"}},{"flavor_text":"Il Pokémon è protetto contro\nla paralisi.","language":{"name":"it","url":"https://pokeapi.co/api/v2/language/8/"},"version_group":{"name":"omega-ruby-alpha-sapphire","url":"https://pokeapi.co/api/v2/version-group/16/"}},{"flavor_text":"Evita ser paralizado.","language":{"name":"es","url":"https://pokeapi.co/api/v2/language/7/"},"version_group":{"name":"omega-ruby-alpha-sapphire","url":"https://pokeapi.co/api/v2/version-group/16/"}},{"flavor_text":"Verhindert Paralyse.","language":{"name":"de","url":"https://pokeapi.co/api/v2/language/6/"},"version_group":{"name":"omega-ruby-alpha-sapphire","url":"https://pokeapi.co/api/v2/version-group/16/"}},{"flavor_text":"Protège le Pokémon de la\nparalysie.","language":{"name":"fr","url":"https://pokeapi.co/api/v2/language/5/"},"version_group":{"name":"omega-ruby-alpha-sapphire","url":"https://pokeapi.co/api/v2/version-group/16/"}},{"flavor_text":"마비 상태가\n되지 않는다.","language":{"name":"ko","url":"https://pokeapi.co/api/v2/language/3/"},"version_group":{"name":"omega-ruby-alpha-sapphire","url":"https://pokeapi.co/api/v2/version-group/16/"}},{"flavor_text":"まひ　じょうたいに\nならない。","language":{"name":"ja-Hrkt","url":"https://pokeapi.co/api/v2/language/1/"},"version_group":{"name":"omega-ruby-alpha-sapphire","url":"https://pokeapi.co/api/v2/version-group/16/"}},{"flavor_text":"まひ状態に\nならない。","language":{"name":"ja","url":"https://pokeapi.co/api/v2/language/11/"},"version_group":{"name":"x-y","url":"https://pokeapi.co/api/v2/version-group/15/"}},{"flavor_text":"Protects the Pokémon\nfrom paralysis.","language":{"name":"en","url":"https://pokeapi.co/api/v2/language/9/"},"version_group":{"name":"x-y","url":"https://pokeapi.co/api/v2/version-group/15/"}},{"flavor_text":"Il Pokémon è protetto contro\nla paralisi.","language":{"name":"it","url":"https://pokeapi.co/api/v2/language/8/"},"version_group":{"name":"x-y","url":"https://pokeapi.co/api/v2/version-group/15/"}},{"flavor_text":"Evita ser paralizado.","language":{"name":"es","url":"https://pokeapi.co/api/v2/language/7/"},"version_group":{"name":"x-y","url":"https://pokeapi.co/api/v2/version-group/15/"}},{"flavor_text":"Verhindert Paralyse.","language":{"name":"de","url":"https://pokeapi.co/api/v2/language/6/"},"version_group":{"name":"x-y","url":"https://pokeapi.co/api/v2/version-group/15/"}},{"flavor_text":"Protège le Pokémon de la\nparalysie.","language":{"name":"fr","url":"https://pokeapi.co/api/v2/language/5/"},"version_group":{"name":"x-y","url":"https://pokeapi.co/api/v2/version-group/15/"}},{"flavor_text":"마비 상태가\n되지 않는다.","language":{"name":"ko","url":"https://pokeapi.co/api/v2/language/3/"},"version_group":{"name":"x-y","url":"https://pokeapi.co/api/v2/version-group/15/"}},{"flavor_text":"まひ　じょうたいに\nならない。","language":{"name":"ja-Hrkt","url":"https://pokeapi.co/api/v2/language/1/"},"version_group":{"name":"x-y","url":"https://pokeapi.co/api/v2/version-group/15/"}},{"flavor_text":"The Pokémon is protected\nfrom paralysis.","language":{"name":"en","url":"https://pokeapi.co/api/v2/language/9/"},"version_group":{"name":"black-2-white-2","url":"https://pokeapi.co/api/v2/version-group/14/"}},{"flavor_text":"The Pokémon is protected\nfrom paralysis.","language":{"name":"en","url":"https://pokeapi.co/api/v2/language/9/"},"version_group":{"name":"black-white","url":"https://pokeapi.co/api/v2/version-group/11/"}},{"flavor_text":"Protège le Pokémon de\nla paralysie.","language":{"name":"fr","url":"https://pokeapi.co/api/v2/language/5/"},"version_group":{"name":"black-white","url":"https://pokeapi.co/api/v2/version-group/11/"}},{"flavor_text":"The Pokémon is protected\nfrom paralysis.","language":{"name":"en","url":"https://pokeapi.co/api/v2/language/9/"},"version_group":{"name":"heartgold-soulsilver","url":"https://pokeapi.co/api/v2/version-group/10/"}},{"flavor_text":"The Pokémon is protected\nfrom paralysis.","language":{"name":"en","url":"https://pokeapi.co/api/v2/language/9/"},"version_group":{"name":"platinum","url":"https://pokeapi.co/api/v2/version-group/9/"}},{"flavor_text":"The Pokémon is protected\nfrom paralysis.","language":{"name":"en","url":"https://pokeapi.co/api/v2/language/9/"},"version_group":{"name":"diamond-pearl","url":"https://pokeapi.co/api/v2/version-group/8/"}},{"flavor_text":"Prevents paralysis.","language":{"name":"en","url":"https://pokeapi.co/api/v2/language/9/"},"version_group":{"name":"firered-leafgreen","url":"https://pokeapi.co/api/v2/version-group/7/"}},{"flavor_text":"Prevents paralysis.","language":{"name":"en","url":"https://pokeapi.co/api/v2/language/9/"},"version_group":{"name":"emerald","url":"https://pokeapi.co/api/v2/version-group/6/"}},{"flavor_text":"Prevents paralysis.","language":{"name":"en","url":"https://pokeapi.co/api/v2/language/9/"},"version_group":{"name":"ruby-sapphire","url":"https://pokeapi.co/api/v2/version-group/5/"}}],"generation":{"name":"generation-iii","url":"https://pokeapi.co/api/v2/generation/3/"},"id":7,"is_main_series":true,"name":"limber","names":[{"language":{"name":"zh-Hans","url":"https://pokeapi.co/api/v2/language/12/"},"name":"柔软"},{"language":{"name":"ja","url":"https://pokeapi.co/api/v2/language/11/"},"name":"じゅうなん"},{"language":{"name":"en","url":"https://pokeapi.co/api/v2/language/9/"},"name":"Limber"},{"language":{"name":"it","url":"https://pokeapi.co/api/v2/language/8/"},"name":"Scioltezza"},{"language":{"name":"es","url":"https://pokeapi.co/api/v2/language/7/"},"name":"Flexibilidad"},{"language":{"name":"de","url":"https://pokeapi.co/api/v2/language/6/"},"name":"Flexibilität"},{"language":{"name":"fr","url":"https://pokeapi.co/api/v2/language/5/"},"name":"Échauffement"},{"language":{"name":"zh-Hant","url":"https://pokeapi.co/api/v2/language/4/"},"name":"柔軟"},{"language":{"name":"ko","url":"https://pokeapi.co/api/v2/language/3/"},"name":"유연"},{"language":{"name":"ja-Hrkt","url":"https://pokeapi.co/api/v2/language/1/"},"name":"じゅうなん"}],"pokemon":[{"is_hidden":false,"pokemon":{"name":"persian","url":"https://pokeapi.co/api/v2/pokemon/53/"},"slot":1},{"is_hidden":false,"pokemon":{"name":"hitmonlee","url":"https://pokeapi.co/api/v2/pokemon/106/"},"slot":1},{"is_hidden":false,"pokemon":{"name":"ditto","url":"https://pokeapi.co/api/v2/pokemon/132/"},"slot":1},{"is_hidden":true,"pokemon":{"name":"buneary","url":"https://pokeapi.co/api/v2/pokemon/427/"},"slot":3},{"is_hidden":true,"pokemon":{"name":"lopunny","url":"https://pokeapi.co/api/v2/pokemon/428/"},"slot":3},{"is_hidden":false,"pokemon":{"name":"glameow","url":"https://pokeapi.co/api/v2/pokemon/431/"},"slot":1},{"is_hidden":false,"pokemon":{"name":"purrloin","url":"https://pokeapi.co/api/v2/pokemon/509/"},"slot":1},{"is_hidden":false,"pokemon":{"name":"liepard","url":"https://pokeapi.co/api/v2/pokemon/510/"},"slot":1},{"is_hidden":false,"pokemon":{"name":"stunfisk","url":"https://pokeapi.co/api/v2/pokemon/618/"},"slot":2},{"is_hidden":false,"pokemon":{"name":"hawlucha","url":"https://pokeapi.co/api/v2/pokemon/701/"},"slot":1},{"is_hidden":false,"pokemon":{"name":"mareanie","url":"https://pokeapi.co/api/v2/pokemon/747/"},"slot":2},{"is_hidden":false,"pokemon":{"name":"toxapex","url":"https://pokeapi.co/api/v2/pokemon/748/"},"slot":2}]}';
  const secondAbilityJSON = '{"effect_changes":[],"effect_entries":[{"effect":"This Pokémon transforms into a random opponent upon entering battle.  This effect is identical to the move transform.","language":{"name":"en","url":"https://pokeapi.co/api/v2/language/9/"},"short_effect":"Transforms upon entering battle."}],"flavor_text_entries":[{"flavor_text":"变身为当前面对的宝可梦。","language":{"name":"zh-Hans","url":"https://pokeapi.co/api/v2/language/12/"},"version_group":{"name":"ultra-sun-ultra-moon","url":"https://pokeapi.co/api/v2/version-group/18/"}},{"flavor_text":"目の前の　ポケモンに\n変身　してしまう。","language":{"name":"ja","url":"https://pokeapi.co/api/v2/language/11/"},"version_group":{"name":"ultra-sun-ultra-moon","url":"https://pokeapi.co/api/v2/version-group/18/"}},{"flavor_text":"The Pokémon transforms itself into the Pokémon\nit’s facing.","language":{"name":"en","url":"https://pokeapi.co/api/v2/language/9/"},"version_group":{"name":"ultra-sun-ultra-moon","url":"https://pokeapi.co/api/v2/version-group/18/"}},{"flavor_text":"Il Pokémon si trasforma nel nemico che ha davanti.","language":{"name":"it","url":"https://pokeapi.co/api/v2/language/8/"},"version_group":{"name":"ultra-sun-ultra-moon","url":"https://pokeapi.co/api/v2/version-group/18/"}},{"flavor_text":"El Pokémon se transforma en el que tiene enfrente.","language":{"name":"es","url":"https://pokeapi.co/api/v2/language/7/"},"version_group":{"name":"ultra-sun-ultra-moon","url":"https://pokeapi.co/api/v2/version-group/18/"}},{"flavor_text":"Kämpft als Kopie seines Gegenübers.","language":{"name":"de","url":"https://pokeapi.co/api/v2/language/6/"},"version_group":{"name":"ultra-sun-ultra-moon","url":"https://pokeapi.co/api/v2/version-group/18/"}},{"flavor_text":"Donne l’apparence du Pokémon adverse.","language":{"name":"fr","url":"https://pokeapi.co/api/v2/language/5/"},"version_group":{"name":"ultra-sun-ultra-moon","url":"https://pokeapi.co/api/v2/version-group/18/"}},{"flavor_text":"變身為當前面對的寶可夢。","language":{"name":"zh-Hant","url":"https://pokeapi.co/api/v2/language/4/"},"version_group":{"name":"ultra-sun-ultra-moon","url":"https://pokeapi.co/api/v2/version-group/18/"}},{"flavor_text":"눈앞의 포켓몬으로\n변신해버린다.","language":{"name":"ko","url":"https://pokeapi.co/api/v2/language/3/"},"version_group":{"name":"ultra-sun-ultra-moon","url":"https://pokeapi.co/api/v2/version-group/18/"}},{"flavor_text":"めのまえの　ポケモンに\nへんしん　してしまう。","language":{"name":"ja-Hrkt","url":"https://pokeapi.co/api/v2/language/1/"},"version_group":{"name":"ultra-sun-ultra-moon","url":"https://pokeapi.co/api/v2/version-group/18/"}},{"flavor_text":"变身为当前面对的宝可梦。","language":{"name":"zh-Hans","url":"https://pokeapi.co/api/v2/language/12/"},"version_group":{"name":"sun-moon","url":"https://pokeapi.co/api/v2/version-group/17/"}},{"flavor_text":"目の前の　ポケモンに\n変身　してしまう。","language":{"name":"ja","url":"https://pokeapi.co/api/v2/language/11/"},"version_group":{"name":"sun-moon","url":"https://pokeapi.co/api/v2/version-group/17/"}},{"flavor_text":"The Pokémon transforms itself into the Pokémon\nit’s facing.","language":{"name":"en","url":"https://pokeapi.co/api/v2/language/9/"},"version_group":{"name":"sun-moon","url":"https://pokeapi.co/api/v2/version-group/17/"}},{"flavor_text":"Il Pokémon si trasforma nel nemico che ha davanti.","language":{"name":"it","url":"https://pokeapi.co/api/v2/language/8/"},"version_group":{"name":"sun-moon","url":"https://pokeapi.co/api/v2/version-group/17/"}},{"flavor_text":"El Pokémon se transforma en el que tiene enfrente.","language":{"name":"es","url":"https://pokeapi.co/api/v2/language/7/"},"version_group":{"name":"sun-moon","url":"https://pokeapi.co/api/v2/version-group/17/"}},{"flavor_text":"Kämpft als Kopie seines Gegenübers.","language":{"name":"de","url":"https://pokeapi.co/api/v2/language/6/"},"version_group":{"name":"sun-moon","url":"https://pokeapi.co/api/v2/version-group/17/"}},{"flavor_text":"Donne l’apparence du Pokémon adverse.","language":{"name":"fr","url":"https://pokeapi.co/api/v2/language/5/"},"version_group":{"name":"sun-moon","url":"https://pokeapi.co/api/v2/version-group/17/"}},{"flavor_text":"變身為當前面對的寶可夢。","language":{"name":"zh-Hant","url":"https://pokeapi.co/api/v2/language/4/"},"version_group":{"name":"sun-moon","url":"https://pokeapi.co/api/v2/version-group/17/"}},{"flavor_text":"눈앞의 포켓몬으로\n변신해버린다.","language":{"name":"ko","url":"https://pokeapi.co/api/v2/language/3/"},"version_group":{"name":"sun-moon","url":"https://pokeapi.co/api/v2/version-group/17/"}},{"flavor_text":"めのまえの　ポケモンに\nへんしん　してしまう。","language":{"name":"ja-Hrkt","url":"https://pokeapi.co/api/v2/language/1/"},"version_group":{"name":"sun-moon","url":"https://pokeapi.co/api/v2/version-group/17/"}},{"flavor_text":"目の前の　ポケモンに\n変身してしまう。","language":{"name":"ja","url":"https://pokeapi.co/api/v2/language/11/"},"version_group":{"name":"omega-ruby-alpha-sapphire","url":"https://pokeapi.co/api/v2/version-group/16/"}},{"flavor_text":"The Pokémon transforms itself\ninto the Pokémon it’s facing.","language":{"name":"en","url":"https://pokeapi.co/api/v2/language/9/"},"version_group":{"name":"omega-ruby-alpha-sapphire","url":"https://pokeapi.co/api/v2/version-group/16/"}},{"flavor_text":"Si trasforma nel Pokémon che ha\ndavanti.","language":{"name":"it","url":"https://pokeapi.co/api/v2/language/8/"},"version_group":{"name":"omega-ruby-alpha-sapphire","url":"https://pokeapi.co/api/v2/version-group/16/"}},{"flavor_text":"Se transforma en el Pokémon que\ntiene enfrente.","language":{"name":"es","url":"https://pokeapi.co/api/v2/language/7/"},"version_group":{"name":"omega-ruby-alpha-sapphire","url":"https://pokeapi.co/api/v2/version-group/16/"}},{"flavor_text":"Kämpft als Kopie seines\nGegenübers.","language":{"name":"de","url":"https://pokeapi.co/api/v2/language/6/"},"version_group":{"name":"omega-ruby-alpha-sapphire","url":"https://pokeapi.co/api/v2/version-group/16/"}},{"flavor_text":"Adopte l’apparence du Pokémon\nadverse.","language":{"name":"fr","url":"https://pokeapi.co/api/v2/language/5/"},"version_group":{"name":"omega-ruby-alpha-sapphire","url":"https://pokeapi.co/api/v2/version-group/16/"}},{"flavor_text":"눈앞의 포켓몬으로\n변신해버린다.","language":{"name":"ko","url":"https://pokeapi.co/api/v2/language/3/"},"version_group":{"name":"omega-ruby-alpha-sapphire","url":"https://pokeapi.co/api/v2/version-group/16/"}},{"flavor_text":"めのまえの　ポケモンに\nへんしん　してしまう。","language":{"name":"ja-Hrkt","url":"https://pokeapi.co/api/v2/language/1/"},"version_group":{"name":"omega-ruby-alpha-sapphire","url":"https://pokeapi.co/api/v2/version-group/16/"}},{"flavor_text":"目の前の　ポケモンに\n変身してしまう。","language":{"name":"ja","url":"https://pokeapi.co/api/v2/language/11/"},"version_group":{"name":"x-y","url":"https://pokeapi.co/api/v2/version-group/15/"}},{"flavor_text":"The Pokémon transforms itself\ninto the Pokémon it’s facing.","language":{"name":"en","url":"https://pokeapi.co/api/v2/language/9/"},"version_group":{"name":"x-y","url":"https://pokeapi.co/api/v2/version-group/15/"}},{"flavor_text":"Si trasforma nel Pokémon che ha\ndavanti.","language":{"name":"it","url":"https://pokeapi.co/api/v2/language/8/"},"version_group":{"name":"x-y","url":"https://pokeapi.co/api/v2/version-group/15/"}},{"flavor_text":"Se transforma en el Pokémon que\ntiene enfrente.","language":{"name":"es","url":"https://pokeapi.co/api/v2/language/7/"},"version_group":{"name":"x-y","url":"https://pokeapi.co/api/v2/version-group/15/"}},{"flavor_text":"Kämpft als Kopie seines\nGegenübers.","language":{"name":"de","url":"https://pokeapi.co/api/v2/language/6/"},"version_group":{"name":"x-y","url":"https://pokeapi.co/api/v2/version-group/15/"}},{"flavor_text":"Adopte l’apparence du Pokémon\nadverse.","language":{"name":"fr","url":"https://pokeapi.co/api/v2/language/5/"},"version_group":{"name":"x-y","url":"https://pokeapi.co/api/v2/version-group/15/"}},{"flavor_text":"눈앞의 포켓몬으로\n변신해버린다.","language":{"name":"ko","url":"https://pokeapi.co/api/v2/language/3/"},"version_group":{"name":"x-y","url":"https://pokeapi.co/api/v2/version-group/15/"}},{"flavor_text":"めのまえの　ポケモンに\nへんしん　してしまう。","language":{"name":"ja-Hrkt","url":"https://pokeapi.co/api/v2/language/1/"},"version_group":{"name":"x-y","url":"https://pokeapi.co/api/v2/version-group/15/"}},{"flavor_text":"It transforms itself into\nthe Pokémon it is facing.","language":{"name":"en","url":"https://pokeapi.co/api/v2/language/9/"},"version_group":{"name":"black-2-white-2","url":"https://pokeapi.co/api/v2/version-group/14/"}},{"flavor_text":"It transforms itself into\nthe Pokémon it is facing.","language":{"name":"en","url":"https://pokeapi.co/api/v2/language/9/"},"version_group":{"name":"black-white","url":"https://pokeapi.co/api/v2/version-group/11/"}},{"flavor_text":"Adopte l’apparence du\nPokémon adverse.","language":{"name":"fr","url":"https://pokeapi.co/api/v2/language/5/"},"version_group":{"name":"black-white","url":"https://pokeapi.co/api/v2/version-group/11/"}}],"generation":{"name":"generation-v","url":"https://pokeapi.co/api/v2/generation/5/"},"id":150,"is_main_series":true,"name":"imposter","names":[{"language":{"name":"zh-Hans","url":"https://pokeapi.co/api/v2/language/12/"},"name":"变身者"},{"language":{"name":"ja","url":"https://pokeapi.co/api/v2/language/11/"},"name":"かわりもの"},{"language":{"name":"en","url":"https://pokeapi.co/api/v2/language/9/"},"name":"Imposter"},{"language":{"name":"it","url":"https://pokeapi.co/api/v2/language/8/"},"name":"Sosia"},{"language":{"name":"es","url":"https://pokeapi.co/api/v2/language/7/"},"name":"Impostor"},{"language":{"name":"de","url":"https://pokeapi.co/api/v2/language/6/"},"name":"Doppelgänger"},{"language":{"name":"fr","url":"https://pokeapi.co/api/v2/language/5/"},"name":"Imposteur"},{"language":{"name":"zh-Hant","url":"https://pokeapi.co/api/v2/language/4/"},"name":"變身者"},{"language":{"name":"ko","url":"https://pokeapi.co/api/v2/language/3/"},"name":"괴짜"},{"language":{"name":"ja-Hrkt","url":"https://pokeapi.co/api/v2/language/1/"},"name":"かわりもの"}],"pokemon":[{"is_hidden":true,"pokemon":{"name":"ditto","url":"https://pokeapi.co/api/v2/pokemon/132/"},"slot":3}]}';

  mockAxios.get
    .mockImplementationOnce(() => Promise.resolve(JSON.parse(firstAbilityJSON)))
    .mockImplementationOnce(() => Promise.resolve(JSON.parse(secondAbilityJSON)));

  const expectedRes = [
    {
      effect: "Prevents paralysis.",
      isHidden: false,
      name: "limber",
    },
    {
      effect: "Transforms upon entering battle.",
      isHidden: true,
      name: "imposter"
    },
  ];

  parsePokemonAbilities(JSON.parse(pokemonData)).then(res => {
    expect(res).toEqual(expectedRes);
    done()
  })
});